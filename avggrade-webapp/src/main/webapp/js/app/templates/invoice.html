﻿<div class="flip-container text-center col-md-12"
     ng-controller="InvoiceCtrl">

    <div class="alert alert-warning" role="alert" ng-show="!!appData.msg">
        <strong>Viga!</strong> <span ng-bind="appData.msg"></span>
    </div>
    
    <div class="col-md-4 col-md-offset-4" ng-show="!!appData.link">
            <p class="lead">
            Demo pangalink:
        	</p>
        	<p style="word-wrap: break-word;">
            {{appData.link}}</p>
    </div>
    
    <div class="col-md-6 col-md-offset-3" ng-show="!!appData.result">
        <table class="table table-bordered table-extracted-data">
            <thead>
            <tr>
                <th colspan="2" class="text-center">Leitud andmed</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Nimi</td>
                <td>
                <input type="text" ng-model="appData.result.name">
                </td>
            </tr>
            <tr>
                <td>Kontonumber</td>
                <td>
  	<ui-select ng-model="selectedBank.selectedValue"
             theme="bootstrap"
             reset-search-input="false"
             ng-change="updateAccountOrdering()"
             >
		<ui-select-match placeholder="{{selectedBank.accountNr}}">
			<small>{{$select.selected.accountNr}} {{$select.selected.bankName}}</small>
		</ui-select-match>
    	<ui-select-choices repeat="model in appData.result.accountNr | filter: $select.search">
      		<div ng-bind-html="model.accountNr | highlight: $select.search"></div>
      		<small>
        		<span ng-bind-html="model.bankName"></span>
      		</small>
    	</ui-select-choices>
	</ui-select>
                </td>
            </tr>
            <tr>
                <td>Viitenumber</td>
                <td><input type="text" ng-model="appData.result.referenceNr"></td>
            </tr>
            <tr>
                <td>Selgitus</td>
                <td><input type="text" ng-model="appData.result.description"></td>
            </tr>
            <tr>
                <td>Kogusumma</td>
                <td><input type="number" ng-model="appData.result.total" step=0.01></td>
            </tr>
            <tr>
                <td colspan="2" align="right">
            	<button class="btn btn-sm btn-success" ng-click="presentPaymentLink()" role="button">Maksma</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="jumbotron col-md-6 col-md-offset-3 invoice-upload-section">
        <h4>Service finds weighted average grade for students</h4>
        <br/>
        <p>
            <small>XML with students data</small>
            &nbsp; &nbsp; &nbsp;
            <button class="btn btn-primary btn-lg" ngf-select ngf-change="upload($files)" role="button">Upload XML file</button>
        </p>
        <progressbar max="100" value="appData.progress" ng-show="!!appData.progress">
        	<span style="color:black; white-space:nowrap;">{{appData.progress}} / 100 %</span>
        </progressbar>
    	<span us-spinner="{radius:30, width:8, length: 16}" ng-show="appData.extractionInProgress"></span>
    </div>
</div>